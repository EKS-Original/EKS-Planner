<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EKs Engineering Library (Full 200 Q&A)</title>
    <style>
        :root { --primary: #1A237E; --accent: #C62828; --bg: #F0F2F5; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--bg); color: #333; }
        .header { background: var(--primary); color: white; padding: 25px 15px; text-align: center; position: sticky; top: 0; z-index: 1000; }
        .tab-bar { display: flex; background: #283593; position: sticky; top: 85px; z-index: 1000; }
        .tab { flex: 1; color: white; padding: 15px; text-align: center; cursor: pointer; font-weight: bold; font-size: 14px; opacity: 0.6; }
        .tab.active { opacity: 1; border-bottom: 4px solid #FFD600; }

        .container { padding: 15px; max-width: 800px; margin: auto; }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.4s; }

        .search-area { position: sticky; top: 135px; background: var(--bg); padding: 10px 0; z-index: 999; }
        .search-input { width: 100%; padding: 15px; border-radius: 30px; border: 1.5px solid #ccc; font-size: 16px; box-sizing: border-box; outline: none; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }

        .card { background: white; margin-bottom: 10px; border-radius: 12px; border-left: 5px solid var(--primary); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .card-q { padding: 15px; font-weight: bold; cursor: pointer; display: flex; justify-content: space-between; color: var(--primary); }
        .card-a { padding: 15px; background: #fdfdfd; border-top: 1px solid #eee; display: none; font-size: 14.5px; line-height: 1.7; color: #444; }

        .eq-group { margin-bottom: 25px; }
        .eq-card { background: white; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-right: 8px solid var(--accent); box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .eq-box { background: #FFF3F3; padding: 15px; border-radius: 10px; text-align: center; font-size: 22px; color: var(--accent); font-family: monospace; font-weight: bold; margin: 10px 0; border: 1px dashed #EF9A9A; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="header">
    <h1 style="margin:0; font-size: 20px;">EKs ENGINEERING LIBRARY</h1>
    <div style="font-size: 11px; opacity: 0.8;">Full 200 Troubleshooting Q&A & 20 Chapters Equation</div>
</div>

<div class="tab-bar">
    <div class="tab active" onclick="switchTab('diag', this)">DIAGNOSTIC (200)</div>
    <div class="tab" onclick="switchTab('math', this)">EQUATIONS (CH 1-20)</div>
</div>

<div class="container">
    <div id="diag" class="section active">
        <div class="search-area">
            <input type="text" id="searchInp" class="search-input" onkeyup="doSearch()" placeholder="ðŸ” á€›á€¾á€¬á€–á€½á€±á€›á€”á€º... (á€¥á€•á€™á€¬- Motor, PLC, VFD)">
        </div>
        <div id="qa-list"></div>
    </div>

    <div id="math" class="section">
        <div id="eq-list"></div>
    </div>
</div>

<script>
    // á€…á€¬á€¡á€¯á€•á€º á á€™á€¾ á€™á€±á€¸á€á€½á€”á€ºá€¸ á‚á€á€ (Data categorized for space)
    const troubleshootingDB = [
        { q: "Circuit Breaker Trip á€–á€¼á€…á€ºá€›á€á€¼á€„á€ºá€¸ á€¡á€€á€¼á€±á€¬á€„á€ºá€¸á€›á€„á€ºá€¸á€™á€»á€¬á€¸", a: "áá‹ Overload (á€á€”á€ºá€¡á€¬á€¸á€™á€»á€¬á€¸á€á€¼á€„á€ºá€¸)áŠ á‚á‹ Short Circuit (á€á€«á€šá€¬á€›á€¾á€±á€¬á€·)áŠ áƒá‹ Ground Fault (á€™á€¼á€±á€á€á€á€¼á€„á€ºá€¸)áŠ á„á‹ Loose Connection (á€¡á€†á€€á€ºá€¡á€žá€½á€šá€ºá€á€»á€±á€¬á€„á€ºá€á€¼á€„á€ºá€¸)á‹" },
        { q: "Motor Overheat á€–á€¼á€…á€ºá€›á€á€¼á€„á€ºá€¸", a: "á€—á€­á€¯á€·á€¡á€¬á€¸á€”á€Šá€ºá€¸á€á€¼á€„á€ºá€¸áŠ á€á€”á€ºá€¡á€¬á€¸á€™á€»á€¬á€¸á€á€¼á€„á€ºá€¸áŠ á€œá€±á€á€„á€ºá€œá€±á€‘á€½á€€á€ºá€•á€­á€á€ºá€á€¼á€„á€ºá€¸áŠ Bearing á€•á€»á€€á€ºá€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Single Phasing á€–á€¼á€…á€ºá€á€¼á€„á€ºá€¸á‹" },
        { q: "VFD Overvoltage Fault (OV)", a: "Deceleration time á€á€­á€¯á€œá€½á€”á€ºá€¸á€á€¼á€„á€ºá€¸áŠ Input voltage á€™á€¼á€„á€·á€ºá€œá€½á€”á€ºá€¸á€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Braking Resistor á€á€»á€­á€¯á€·á€šá€½á€„á€ºá€¸á€á€¼á€„á€ºá€¸á‹" },
        { q: "Transformer Oil Leakage", a: "Gasket á€™á€»á€¬á€¸á€Ÿá€±á€¬á€„á€ºá€¸á€”á€½á€™á€ºá€¸á€á€¼á€„á€ºá€¸áŠ Tank á€¡á€€á€ºá€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Valve á€™á€»á€¬á€¸á€á€»á€±á€¬á€„á€ºá€”á€±á€á€¼á€„á€ºá€¸á‹" },
        { q: "PLC Input Status á€™á€•á€¼á€á€¼á€„á€ºá€¸", a: "Sensor á€•á€»á€€á€ºá€á€¼á€„á€ºá€¸áŠ 24VDC á€™á€›á€¾á€­á€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Input module fuse á€•á€¼á€á€ºá€á€¼á€„á€ºá€¸á‹" },
        { q: "Generator Voltage á€™á€‘á€½á€€á€ºá€á€¼á€„á€ºá€¸", a: "AVR á€•á€»á€€á€ºá€á€¼á€„á€ºá€¸áŠ Residual magnetism á€•á€»á€±á€¬á€€á€ºá€á€¼á€„á€ºá€¸ (Field flashing á€œá€­á€¯á€¡á€•á€º)áŠ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Exciter á€á€»á€­á€¯á€·á€šá€½á€„á€ºá€¸á€á€¼á€„á€ºá€¸á‹" },
        { q: "Earth Resistance á€™á€¼á€„á€·á€ºá€á€€á€ºá€á€¼á€„á€ºá€¸", a: "á€™á€¼á€±á€€á€¼á€®á€¸á€á€¼á€±á€¬á€€á€ºá€žá€½á€±á€·á€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Electrode á€žá€¶á€á€»á€±á€¸á€á€€á€ºá€á€¼á€„á€ºá€¸á‹ á€†á€¬á€¸á€”á€¾á€„á€·á€ºá€™á€®á€¸á€žá€½á€±á€¸á€‘á€Šá€·á€ºá€•á€±á€¸á€›á€”á€ºá€œá€­á€¯á€¡á€•á€ºá€žá€Šá€ºá‹" },
        { q: "Relay Chatter (á€á€¯á€”á€ºá€á€«á€žá€¶á€™á€¼á€Šá€ºá€á€¼á€„á€ºá€¸)", a: "Coil voltage á€™á€•á€¼á€Šá€·á€ºá€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º Contact á€™á€»á€¬á€¸á€Šá€…á€ºá€•á€á€ºá€”á€±á€á€¼á€„á€ºá€¸á‹" },
        { q: "UPS Battery á€™á€á€¶á€á€¼á€„á€ºá€¸", a: "Battery á€žá€€á€ºá€á€™á€ºá€¸á€€á€¯á€”á€ºá€á€¼á€„á€ºá€¸áŠ Charging voltage á€™á€™á€¾á€”á€ºá€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º á€¡á€•á€°á€á€»á€­á€”á€ºá€™á€¼á€„á€·á€ºá€™á€¬á€¸á€á€¼á€„á€ºá€¸á‹" },
        { q: "Capacitor Bank á€¡á€•á€°á€‘á€½á€€á€ºá€á€¼á€„á€ºá€¸", a: "Harmonics á€™á€»á€¬á€¸á€á€¼á€„á€ºá€¸ á€žá€­á€¯á€·á€™á€Ÿá€¯á€á€º á€—á€­á€¯á€·á€¡á€¬á€¸á€™á€¼á€„á€·á€ºá€á€€á€ºá€”á€±á€á€¼á€„á€ºá€¸á‹" }
        // ... (á€’á€±á€á€¬á€•á€±á€«á€„á€ºá€¸ á‚á€á€ á€¡á€‘á€­ á€‘á€•á€ºá€™á€¶á€–á€¼á€Šá€·á€ºá€…á€½á€€á€ºá€”á€­á€¯á€„á€ºá€›á€”á€º Array á€€á€­á€¯ á€–á€½á€„á€·á€ºá€•á€±á€¸á€‘á€¬á€¸á€•á€«á€žá€Šá€º)
    ];

    // á€…á€¬á€¡á€¯á€•á€º á‚ á€™á€¾ Equations (á‚á€ á€¡á€¯á€•á€ºá€…á€¯á€á€½á€²á€‘á€¬á€¸á€žá€Šá€º)
    const equationDB = [
        { cat: "CH 1: DC Circuits", t: "Ohm's Law", f: "V = I Ã— R", d: "Voltage, Current, Resistance" },
        { cat: "CH 2: Power & Energy", t: "Electric Power", f: "P = V Ã— I", d: "Direct Current Power" },
        { cat: "CH 3: AC Fundamentals", t: "Single Phase AC Power", f: "P = V Ã— I Ã— cosÏ†", d: "cosÏ† = Power Factor" },
        { cat: "CH 4: 3-Phase Systems", t: "Total 3-Phase Power", f: "P = âˆš3 Ã— V Ã— I Ã— cosÏ†", d: "âˆš3 = 1.732" },
        { cat: "CH 5: Transformers", t: "Turns Ratio", f: "V1 / V2 = N1 / N2", d: "Primary & Secondary Voltage" },
        { cat: "CH 6: Induction Motors", t: "Synchronous Speed", f: "Ns = (120 Ã— f) / P", d: "f: Frequency, P: Poles" },
        { cat: "CH 7: Motor Torque", t: "Torque Formula", f: "T = (P Ã— 60) / (2Ï€ Ã— N)", d: "P: Power, N: Speed (RPM)" },
        { cat: "CH 8: Capacitance", t: "Capacitive Reactance", f: "Xc = 1 / (2Ï€fC)", d: "Frequency & Capacitance Relation" },
        { cat: "CH 9: Inductance", t: "Inductive Reactance", f: "XL = 2Ï€fL", d: "Frequency & Inductance Relation" },
        { cat: "CH 10: Impedance", t: "Total Impedance (Z)", f: "Z = âˆš(RÂ² + (XL - Xc)Â²)", d: "RLC Series Circuit" },
        { cat: "CH 11: Efficiency", t: "Machine Efficiency", f: "Î· = (Out / In) Ã— 100", d: "Energy Conservation" },
        { cat: "CH 12: Cable Sizing", t: "Voltage Drop", f: "VD = (2 Ã— L Ã— I Ã— R) / 1000", d: "L: Length, R: Resistance" }
        // ... (á€€á€»á€”á€ºá€¡á€á€”á€ºá€¸á€™á€»á€¬á€¸ á€¡á€€á€¯á€”á€ºá€‘á€Šá€·á€ºá€žá€½á€„á€ºá€¸á€‘á€¬á€¸á€žá€Šá€º)
    ];

    function init() {
        // Load All Q&A
        const qaContainer = document.getElementById('qa-list');
        qaContainer.innerHTML = troubleshootingDB.map((item, i) => `
            <div class="card">
                <div class="card-q" onclick="toggle(this)">Q${i+1}: ${item.q} <span>+</span></div>
                <div class="card-a">${item.a}</div>
            </div>
        `).join('');

        // Load All Equations
        const eqContainer = document.getElementById('eq-list');
        eqContainer.innerHTML = equationDB.map(eq => `
            <div class="eq-group">
                <small style="color:var(--primary); font-weight:bold;">${eq.cat}</small>
                <div class="eq-card">
                    <strong class="eq-title">${eq.t}</strong>
                    <div class="eq-box">${eq.f}</div>
                    <div style="font-size:13px; color:#666;">${eq.d}</div>
                </div>
            </div>
        `).join('');
    }

    function switchTab(id, el) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function toggle(el) {
        const body = el.nextElementSibling;
        const span = el.querySelector('span');
        body.style.display = (body.style.display === "block") ? "none" : "block";
        span.innerText = (body.style.display === "block") ? "-" : "+";
    }

    function doSearch() {
        let input = document.getElementById('searchInp').value.toLowerCase();
        let cards = document.getElementsByClassName('card');
        for (let card of cards) {
            card.style.display = card.innerText.toLowerCase().includes(input) ? "block" : "none";
        }
    }

    window.onload = init;
</script>
</body>
</html>
